# Example 1 - Burstable server w/ public access enabled
postgresql_flexible_servers = {
  psql-mike-test-eastus2 = {
    admin_username = "admin"
    location            = "eastus2"
    resource_group_name = "rg-test-01"
    sku_name            = "B_Standard_B1ms"
    version             = 15
  }
}


# Example 2 - General purpose server w/ high availability enabled
postgresql_flexible_servers = {
  psql-mike-test2 = {
    admin_username = "admin"
    high_availability = {
      mode = "ZoneRedundant"
    }
    location            = "usgovvirginia"
    resource_group_name = "rg-test"
    sku_name            = "GP_Standard_D2s_v3"
    version             = 15
  }
}

# Example 3 - General purpose server w/ HA and VNet integration
postgresql_flexible_servers = {
  psql-mike-test2 = {
    admin_username = "admin"
    high_availability = {
      mode = "ZoneRedundant"
    }
    location            = "usgovvirginia"
    resource_group_name = "rg-test"
    sku_name            = "GP_Standard_D2s_v3"
    version             = 15
    vnet_integration = {
      delegated_subnet_name = "subnet-test-04"
      vnet_name = "vnet-test-usgovvirginia-01"
      vnet_resource_group_name = "rg-test-01"
    }
  }
}
